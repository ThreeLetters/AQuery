/*
 Aquery: The world's best DOM wrapper

 Author: Andrews54757 & LegitSoulja
 License: MIT (https://github.com/ThreeLetters/AQuery/blob/master/LICENSE)
 Source: https://github.com/ThreeLetters/AQuery
 Build: v0.0.1
 Built on: 29/11/2017
*/

(function(k){function p(a,b,c,d){if(a.global)return!0}function I(a){a.global&&0===g.active++&&p(a,null,"ajaxStart")}function J(a,b){var c=b.context;if(!1===b.beforeSend.call(c,a,b)||!1===p(b,c,"ajaxBeforeSend",[a,b]))return!1;p(b,c,"ajaxSend",[a,b])}function B(a,b,c){var d=c.context;c.success.call(d,a,"success",b);p(c,d,"ajaxSuccess",[b,c,a]);r("success",b,c)}function v(a,b,c,d){var f=d.context;d.error.call(f,c,b,a);p(d,f,"ajaxError",[c,d,a]);r(b,c,d)}function r(a,b,c){var d=c.context;c.complete.call(d,
b,a);p(c,d,"ajaxComplete",[b,c]);c.global&&!--g.active&&p(c,null,"ajaxStop")}function q(){}function K(a){return a&&("text/html"==a?"html":"application/json"==a?"json":L.test(a)?"script":M.test(a)&&"xml")||"text"}function C(a){"object"===type(a.data)&&(a.data=N(a.data));!a.data||a.type&&"GET"!=a.type.toUpperCase()||(a.url=(a.url+"&"+a.data).replace(/[&?]{1,2}/,"?"))}function D(a,b,c,d){var f="array"===type(b),e;for(e in b){var m=b[e];d&&(e=c?d:d+"["+(f?"":e)+"]");!d&&f?a.add(m.name,m.value):(c?"array"===
type(m):"object"===type(m))?D(a,m,c,e):a.add(e,m)}}function N(a,b){var c=[];c.add=function(a,b){this.push(E(a)+"="+E(b))};D(c,a,b);return c.join("&").replace("%20","+")}function F(a){Array.prototype.slice.call(arguments,1).forEach(function(b){for(n in b)void 0!==b[n]&&(a[n]=b[n])});return a}function w(a){a.id||(a.id="aquery_id_"+O++);x[a.id]||(x[a.id]=G(null,a,null));return x[a.id]}function G(a,b,c){var d={},f={bindings:d,parent:a,current:b,name:c,listeners:[]},e="object"===typeof b&&("object"===
typeof HTMLElement?b instanceof HTMLElement:b&&"object"===typeof b&&null!==b&&1===b.nodeType&&"string"===typeof b.nodeName);return new Proxy(b,{get:function(a,c){if("elementData"===c)return f;if("$"===c.charAt(0)){c=c.substr(1);if(e&&h[c])return h[c](f,!0,"get");d[c]||(d[c]={isRefrence:!0,owner:b,attached:[],name:c,update:function(a){var b=this;this.owner[this.name]=a;this.attached.forEach(function(d){d.current[b.name]=a})}});return d[c]}if(e)return h[c](f,!1,"get");if(b[c]&&h[c])return"object"===
typeof b[c]?G(b,b[c],c):b[c]},set:function(a,c,l){"$"===c.charAt(0)&&(c=c.substr(1));if(e&&h[c])h[c](f,!0,"set",l);else l&&l.isRefrence?d[c]!==l&&(d[c]&&(a=d[c].attached.indexOf(f),d[c].attached[a]=d[c].attached[d[c].attached.length-1],d[c].attached[a].pop()),l.attached.push(f),b[c]=l.owner[l.name],d[c]=l):d[c]?d[c].update(l):b[c]=l},has:function(a,b){},deleteProperty:function(a,c){if("$"===c.charAt(0))if(c=c.substr(1),e&&h[c])h[c](f,!0,"delete");else{if(d[c]){if(d[c].owner===b)d[c].attached.forEach(function(a){a.bindings[c]=
null}),d[c].attached=null;else{var l=d[c].attached.indexOf(f);d[c].attached[l]=d[c].attached[d[c].attached.length-1];d[c].attached[l].pop()}d[c]=null}}else if(e&&h[c])h[c](f,!1,"delete")}})}function Q(a,b){var c={nodes:a,wrappers:[],selector:b,selectorSplit:b.split(/[> ]/),listeners:[]};a.forEach(function(a,b){c.wrappers[b]=w(a)});return new Proxy(c,{get:function(b,f){if("length"===f)return a.length;var d=!1;"$"===f.charAt(0)&&(f=f.substr(1),d=!0);if("number"===typeof f&&c.nodes[f])return d?c.nodes[f]:
c.wrappers[f];if(t[f])return t[f](c,d);if(1===a.length)return c.nodes[0][(d?"$":"")+f]},set:function(a,b,c){}})}var h={},t={},y={},H={},x={},z=[],O=0;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=a.length;0<=--b&&a.item(b)!==this;);
return-1<b});var R=0,u=k.document,n,A,L=/^(?:text|application)\/javascript/i,M=/^(?:text|application)\/xml/i,S=/^\s*$/,g=y.ajax=function(a){var b=F({},a||{});for(n in g.settings)void 0===b[n]&&(b[n]=g.settings[n]);I(b);b.crossDomain||(b.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(b.url)&&RegExp.$2!=k.location.host);var c=b.dataType;a=/=\?/.test(b.url);if("jsonp"==c||a)return a||(b.url=(b.url+"&callback=?").replace(/[&?]{1,2}/,"?")),g.JSONP(b);b.url||(b.url=k.location.toString());C(b);a=b.accepts[c];
var d={},f=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:k.location.protocol,e=g.settings.xhr(),m;b.crossDomain||(d["X-Requested-With"]="XMLHttpRequest");a&&(d.Accept=a,-1<a.indexOf(",")&&(a=a.split(",",2)[0]),e.overrideMimeType&&e.overrideMimeType(a));if(b.contentType||b.data&&"GET"!=b.type.toUpperCase())d["Content-Type"]=b.contentType||"application/x-www-form-urlencoded";b.headers=F(d,b.headers||{});e.onreadystatechange=function(){if(4==e.readyState){clearTimeout(m);var a=!1;if(200<=e.status&&300>e.status||
304==e.status||0==e.status&&"file:"==f){c=c||K(e.getResponseHeader("content-type"));var d=e.responseText;try{"script"==c?(0,eval)(d):"xml"==c?d=e.responseXML:"json"==c&&(d=S.test(d)?null:JSON.parse(d))}catch(P){a=P}a?v(a,"parsererror",e,b):B(d,e,b)}else v(null,"error",e,b)}};e.open(b.type,b.url,"async"in b?b.async:!0);for(A in b.headers)e.setRequestHeader(A,b.headers[A]);if(!1===J(e,b))return e.abort(),!1;0<b.timeout&&(m=setTimeout(function(){e.onreadystatechange=q;e.abort();v(null,"timeout",e,b)},
b.timeout));e.send(b.data?b.data:null);return e};g.active=0;g.JSONP=function(a){if(!("type"in a))return g(a);var b="jsonp"+ ++R,c=u.createElement("script"),d={abort:function(){b in k&&(k[b]=q);r("abort",d,a)}},f,e=u.getElementsByTagName("head")[0]||u.documentElement;a.error&&(c.onerror=function(){d.abort();a.error()});k[b]=function(c){clearTimeout(f);delete k[b];B(c,d,a)};C(a);c.src=a.url.replace(/=\?/,"="+b);e.insertBefore(c,e.firstChild);0<a.timeout&&(f=setTimeout(function(){d.abort();r("timeout",
d,a)},a.timeout));return d};g.settings={type:"GET",beforeSend:q,success:q,error:q,complete:q,context:null,global:!0,xhr:function(){return new k.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0};g.get=function(a,b){return g({url:a,success:b})};g.post=function(a,b,c,d){"function"===type(b)&&(d=d||c,c=b,b=null);return g({type:"POST",url:a,data:b,success:c,dataType:d})};
g.getJSON=function(a,b){return g({url:a,success:b,dataType:"json"})};var E=encodeURIComponent;h.append=h.appendChild=function(a,b){return function(b){b.elementData||(b=w(b));var c=b.elementData;z.forEach(function(a){c.current.matches(a.selector)&&-1===c.listeners.indexOf(a)&&(c.current.addEventListener(a.type,a.listener,a.options),c.listeners.push(a))});a.current.appendChild(c.current)}};h.clone=function(a,b){return function(){}};h.on=h.addEventListener=function(a,b){return new Proxy(function(b,d,
f){d._listenerData=d._listenerData||{type:b,listener:d,options:f};-1===a.listeners.indexOf(d._listenerData)&&(a.current.addEventListener(b,d,f),a.listeners.push(d._listenerData))},{get:function(b,d){if("length"===d)return a.listeners.length;if("number"===typeof d)return a.listeners[d].listener;var c=[];a.listeners.forEach(function(a){a.type===d&&c.push(a.listener)});return new Proxy(c,{deleteProperty:function(b,d){if("number"===typeof d){var e=c[d];if(e){c.splice(d,1);var f=a.listeners.indexOf(e);
-1!==e&&a.listeners.splice(f,1);a.current.removeEventListener(e.type,e.listener)}}}})},deleteProperty:function(b,d){if("number"===typeof d){var c=a.listeners[d];c&&(a.listeners.splice(d,1),a.current.removeEventListener(c.type,c.listener))}else a.listeners=a.listeners.filter(function(b){return b.type===d?(a.current.removeEventListener(b.type,b.listener),!1):!0})}})};t.on=t.addEventListener=function(a,b){return new Proxy(function(c,d,f){var e=d._listenerData=d._listenerData||{selector:a.selector,type:c,
listener:d,options:f};-1===a.listeners.indexOf(e)&&a.listeners.push(e);a.nodes.forEach(function(b,g){-1===a.wrappers[g].listeners.indexOf(e)&&(b.addEventListener(c,d,f),a.wrappers[g].listeners.push(e))});b&&-1===z.indexOf(e)&&z.push(e)},{get:function(b,d){if("length"===d)return a.listeners.length;if("number"===typeof d)return a.listeners[d].listener}})};var T=new Proxy(function(a){if(a){if("string"===typeof a){var b=Array.from(u.querySelectorAll(a));return Q(b,a)}if("object"===typeof a)return w(a)}},
{get:function(a,b){if(y[b])return y[b](b);if(H[b])return H[b]},set:function(a,b,c){}});k.AQuery=T;k.$||(k.$=k.AQuery)})(window);
