/*
 Aquery: The world's best DOM wrapper

 Author: Andrews54757 & LegitSoulja
 License: MIT (https://github.com/ThreeLetters/AQuery/blob/master/LICENSE)
 Source: https://github.com/ThreeLetters/AQuery
 Build: v0.0.1
 Built on: 30/11/2017
*/

(function(m){function G(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName}function y(a,c,b){if("object"===typeof c){if(Array.isArray(c))return c.map(function(b){return B(a,b)});b={};for(var d in c)b[d]=H(a,d,c[d]);return b}if("string"===typeof c)return b?H(a,c,b):B(a,c)}function I(a){a.split("-");return a.map(function(a,b){return 0!==b?a.charAt(0).toUpperCase()+a.slice(1):a}).join("")}function B(a,c){c=I(c);
return a.style[c]?a.style[c]:m.getComputedStyle(a).getPropertyValue(c)}function H(a,c,b){c=I(c);var d=b,e=parseFloat(b),g=B(a,c),h=parseFloat(g);if("string"===typeof b&&2<b.length&&"="===b.charAt(1)){var f=b.charAt(0),r=!0;e=parseFloat(b.substr(2));switch(f){case "+":d=h+e;break;case "-":d=h-e;break;case "*":d=h*e;break;case "/":d=h/e;break;case "^":d=Math.pow(h,e);break;default:r=!1}r&&(b=b.substr(2))}(b=b.substr(e.toString().length))||(b=g.substr(h.toString().length));return a.style[c]=d+b}function v(a,
c,b,d){if(a.global)return!0}function R(a){a.global&&0===l.active++&&v(a,null,"ajaxStart")}function S(a,c){var b=c.context;if(!1===c.beforeSend.call(b,a,c)||!1===v(c,b,"ajaxBeforeSend",[a,c]))return!1;v(c,b,"ajaxSend",[a,c])}function J(a,c,b){var d=b.context;b.success.call(d,a,"success",c);v(b,d,"ajaxSuccess",[c,b,a]);z("success",c,b)}function C(a,c,b,d){var e=d.context;d.error.call(e,b,c,a);v(d,e,"ajaxError",[b,d,a]);z(c,b,d)}function z(a,c,b){var d=b.context;b.complete.call(d,c,a);v(b,d,"ajaxComplete",
[c,b]);b.global&&!--l.active&&v(b,null,"ajaxStop")}function w(){}function T(a){return a&&("text/html"==a?"html":"application/json"==a?"json":U.test(a)?"script":V.test(a)&&"xml")||"text"}function K(a){"object"===type(a.data)&&(a.data=W(a.data));!a.data||a.type&&"GET"!=a.type.toUpperCase()||(a.url=(a.url+"&"+a.data).replace(/[&?]{1,2}/,"?"))}function L(a,c,b,d){var e="array"===type(c),g;for(g in c){var h=c[g];d&&(g=b?d:d+"["+(e?"":g)+"]");!d&&e?a.add(h.name,h.value):(b?"array"===type(h):"object"===
type(h))?L(a,h,b,g):a.add(g,h)}}function W(a,c){var b=[];b.add=function(a,b){this.push(M(a)+"="+M(b))};L(b,a,c);return b.join("&").replace("%20","+")}function N(a){Array.prototype.slice.call(arguments,1).forEach(function(c){for(t in c)void 0!==c[t]&&(a[t]=c[t])});return a}function A(a){"none"===a.current.style.display&&(a.current.style.display=a.defaultDisplay||"")}function D(a){"none"!==a.current.style.display&&(a.defaultDisplay=a.current.style.display,a.current.style.display="none")}function O(a,
c,b){var d={},e={},g={bindings:d,parent:a,current:c,name:b,listeners:[]},h="object"===typeof c&&G(c);a=new Proxy(c,{get:function(a,b){if("elementData"===b)return g;if("$"===b.charAt(0)){b=b.substr(1);if(h&&k[b])return k[b](g,!0,"get");d[b]||(d[b]={isRefrence:!0,owner:c,attached:[],name:b,update:function(a){var b=this;this.owner[this.name]=a;this.attached.forEach(function(c){c.current[b.name]=a})}});return d[b]}if(h&&k[b])return k[b](g,!1,"get");if(c[b])return"object"===typeof c[b]?(e[b]&&e[b].elementData.current===
c[b]||(e[b]=G(c[b])?x(c[b]):O(c,c[b],b)),e[b]):c[b]},set:function(a,b,e){"$"===b.charAt(0)&&(b=b.substr(1));if(h&&k[b])k[b](g,!0,"set",e);else e&&e.isRefrence?d[b]!==e&&(d[b]&&(a=d[b].attached.indexOf(g),d[b].attached[a]=d[b].attached[d[b].attached.length-1],d[b].attached[a].pop()),e.attached.push(g),c[b]=e.owner[e.name],d[b]=e):d[b]?d[b].update(e):c[b]=e},has:function(a,b){},deleteProperty:function(a,b){if("$"===b.charAt(0))if(b=b.substr(1),h&&k[b])k[b](g,!0,"delete");else{if(d[b]){if(d[b].owner===
c)d[b].attached.forEach(function(a){a.bindings[b]=null}),d[b].attached=null;else{var e=d[b].attached.indexOf(g);d[b].attached[e]=d[b].attached[d[b].attached.length-1];d[b].attached[e].pop()}d[b]=null}}else if(h&&k[b])k[b](g,!1,"delete")}});return g.proxy=a}function x(a){a.id||(a.id="aquery_id_"+Z++);E[a.id]||(E[a.id]=O(null,a,null));return E[a.id]}function aa(a,c){var b={nodes:a,wrappers:[],selector:c,selectorSplit:c.split(/[> ]/),listeners:[]};a.forEach(function(a,c){b.wrappers[c]=x(a)});return new Proxy(b,
{get:function(c,e){if("length"===e)return a.length;var d=!1;"$"===e.charAt(0)&&(e=e.substr(1),d=!0);if("number"===typeof e&&b.nodes[e])return d?b.nodes[e]:b.wrappers[e];if(u[e])return u[e](b,d);if(1===a.length)return b.nodes[0][(d?"$":"")+e]},set:function(a,b,c){}})}var k={},u={},n={},P={},E={},q=[],Z=0;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||
Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var c=a.length;0<=--c&&a.item(c)!==this;);return-1<c});"undefined"===typeof Array.isArray&&(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});k.css=function(a){return function(c,b){return y(a.proxy,c,b)}};u.css=function(a){return function(c,b){return a.wrappers.map(function(a){return y(a,c,b)})}};n.css=function(){return function(a,c,b){return b&&"object"===
typeof b?b.map(function(b){return y(b,a,c)}):y(b||p.body,a,c)}};var ba=function(a,c,b,d){var e=void 0,g=!1;if(b){e=c;var h=b;g=d}else h=c,g=b;try{var f=m.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.open(e?"POST":"GET",a+(g?"?"+Date.now():""));f.onreadystatechange=function(){4==f.readyState&&(200===f.status?h(void 0,f,f.responseText):h(!0,f,!1))};if(e){f.setRequestHeader("Content-type","application/x-www-form-urlencoded");a=[];for(var r in e)a.push(encodeURIComponent(r)+
"="+encodeURIComponent(e[r]));e=a.join("&")}f.send(e)}catch(X){h(X)}},ca=0,p=m.document,t,F,U=/^(?:text|application)\/javascript/i,V=/^(?:text|application)\/xml/i,da=/^\s*$/,l=function(a,c){if(c)return ba.apply(null,arguments);var b=N({},a||{});for(t in l.settings)void 0===b[t]&&(b[t]=l.settings[t]);R(b);b.crossDomain||(b.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(b.url)&&RegExp.$2!=m.location.host);var d=b.dataType,e=/=\?/.test(b.url);if("jsonp"==d||e)return e||(b.url=(b.url+"&callback=?").replace(/[&?]{1,2}/,
"?")),l.JSONP(b);b.url||(b.url=m.location.toString());K(b);e=b.accepts[d];var g={},h=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:m.location.protocol,f=l.settings.xhr(),r;b.crossDomain||(g["X-Requested-With"]="XMLHttpRequest");e&&(g.Accept=e,-1<e.indexOf(",")&&(e=e.split(",",2)[0]),f.overrideMimeType&&f.overrideMimeType(e));if(b.contentType||b.data&&"GET"!=b.type.toUpperCase())g["Content-Type"]=b.contentType||"application/x-www-form-urlencoded";b.headers=N(g,b.headers||{});f.onreadystatechange=function(){if(4==
f.readyState){clearTimeout(r);var a=!1;if(200<=f.status&&300>f.status||304==f.status||0==f.status&&"file:"==h){d=d||T(f.getResponseHeader("content-type"));var c=f.responseText;try{"script"==d?(0,eval)(c):"xml"==d?c=f.responseXML:"json"==d&&(c=da.test(c)?null:JSON.parse(c))}catch(Y){a=Y}a?C(a,"parsererror",f,b):J(c,f,b)}else C(null,"error",f,b)}};f.open(b.type,b.url,"async"in b?b.async:!0);for(F in b.headers)f.setRequestHeader(F,b.headers[F]);if(!1===S(f,b))return f.abort(),!1;0<b.timeout&&(r=setTimeout(function(){f.onreadystatechange=
w;f.abort();C(null,"timeout",f,b)},b.timeout));f.send(b.data?b.data:null);return f};l.active=0;l.JSONP=function(a){if(!("type"in a))return l(a);var c="jsonp"+ ++ca,b=p.createElement("script"),d={abort:function(){c in m&&(m[c]=w);z("abort",d,a)}},e,g=p.getElementsByTagName("head")[0]||p.documentElement;a.error&&(b.onerror=function(){d.abort();a.error()});m[c]=function(b){clearTimeout(e);delete m[c];J(b,d,a)};K(a);b.src=a.url.replace(/=\?/,"="+c);g.insertBefore(b,g.firstChild);0<a.timeout&&(e=setTimeout(function(){d.abort();
z("timeout",d,a)},a.timeout));return d};l.settings={type:"GET",beforeSend:w,success:w,error:w,complete:w,context:null,global:!0,xhr:function(){return new m.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0};l.get=function(a,c){return l({url:a,success:c})};l.post=function(a,c,b,d){"function"===type(c)&&(d=d||b,b=c,c=null);return l({type:"POST",url:a,data:c,success:b,
dataType:d})};l.getJSON=function(a,c){return l({url:a,success:c,dataType:"json"})};var M=encodeURIComponent;n.ajax=function(){return l};k.append=k.appendChild=function(a,c){return function(b){b.elementData||(b=x(b));var c=b.elementData;q.forEach(function(a){c.current.matches(a.selector)&&-1===c.listeners.indexOf(a)&&(c.current.addEventListener(a.type,a.listener,a.options),c.listeners.push(a))});a.current.appendChild(c.current)}};n.append=n.appendChild=function(){return function(a){a.elementData||
(a=x(a));var c=a.elementData;q.forEach(function(a){c.current.matches(a.selector)&&-1===c.listeners.indexOf(a)&&(c.current.addEventListener(a.type,a.listener,a.options),c.listeners.push(a))});p.body.appendChild(c.current)}};k.clone=function(a,c){return function(b){var c=a.current.cloneNode(!0),e=Q(c);!1!==b&&a.listeners.forEach(function(a){e.elementData.listeners.push(a);e.elementData.current.addEventListener(a.type,a.listener,a.options)});return e}};k.outerWidth=function(a,c,b){};k.outerHeight=function(a,
c,b){};k.innerWidth=function(a,c,b){};k.innerHeight=function(a,c,b){};k.width=function(a,c,b){};k.height=function(a,c,b){};n.width=function(a,c){if("get"===c)return Math.max(p.scrollHeight,p.offsetHeight,p.clientHeight)};n.height=function(a,c){if("get"===c)return Math.max(p.scrollWidth,p.offsetWidth,p.clientWidth)};k.on=k.addEventListener=function(a,c,b){if("delete"===b)a.listeners.forEach(function(b){a.current.removeEventListener(b.type,b.listener)}),a.listeners=[];else return new Proxy(function(b,
c,g){c._listenerData=c._listenerData||{type:b,listener:c,options:g};-1===a.listeners.indexOf(c._listenerData)&&(a.current.addEventListener(b,c,g),a.listeners.push(c._listenerData))},{get:function(b,c){if("length"===c)return a.listeners.length;if("number"===typeof c)return a.listeners[c].listener;var e=[];a.listeners.forEach(function(a){a.type===c&&e.push(a.listener)});return new Proxy(e,{deleteProperty:function(b,c){if("number"===typeof c){var d=e[c];if(d){e.splice(c,1);var g=a.listeners.indexOf(d);
-1!==d&&a.listeners.splice(g,1);a.current.removeEventListener(d.type,d.listener)}}}})},deleteProperty:function(b,c){if("number"===typeof c){var e=a.listeners[c];e&&(a.listeners.splice(c,1),a.current.removeEventListener(e.type,e.listener))}else a.listeners=a.listeners.filter(function(b){return b.type===c?(a.current.removeEventListener(b.type,b.listener),!1):!0})}})};u.on=u.addEventListener=function(a,c,b){if("delete"===b)a.listeners.forEach(function(b){a.wrappers.forEach(function(a){a=a.elementData;
var c=a.listeners.indexOf(b);-1!==c&&(a.listeners.splice(c,1),a.current.removeEventListener(b.type,b.listener))})}),a.listeners=[];else return new Proxy(function(b,e,g){var d=e._listenerData=e._listenerData||{selector:a.selector,type:b,listener:e,options:g};-1===a.listeners.indexOf(d)&&a.listeners.push(d);a.nodes.forEach(function(c,h){var f=a.wrappers[h].elementData;-1===f.listeners.indexOf(d)&&(c.addEventListener(b,e,g),f.listeners.push(d))});c&&!d.isRefrenceEvent&&(q.push(d),d.isRefrenceEvent=!0)},
{get:function(b,c){if("length"===c)return a.listeners.length;if("number"===typeof c)return a.listeners[c].listener;var d=[];a.listeners.forEach(function(a){a.type===c&&d.push(a.listener)});return new Proxy(d,{deleteProperty:function(b,c){if("number"===typeof c){var e=d[c];if(e){d.splice(c,1);var f=a.listeners.indexOf(e);-1!==e&&a.listeners.splice(f,1);e.isRefrenceEvent&&(f=q.indexOf(e),q.splice(f,1),e.isRefrenceEvent=!1);a.wrappers.forEach(function(a){a=a.elementData;var b=a.listeners.indexOf(e);
-1!==b&&(a.current.removeEventListener(e.type,e.listener),a.listeners.splice(b,1))})}}}})},deleteProperty:function(b,c){if("number"===typeof c){var d=a.listeners[c];if(d){a.listeners.splice(c,1);if(d.isRefrenceEvent){var e=q.indexOf(d);q.splice(e,1);d.isRefrenceEvent=!1}a.wrappers.forEach(function(a){a=a.elementData;var b=a.listeners.indexOf(d);-1!==b&&(a.current.removeEventListener(d.type,d.listener),a.listeners.splice(b,1))})}}else a.listeners=a.listeners.filter(function(b){if(b.type===c){if(b.isRefrenceEvent){var d=
q.indexOf(b);q.splice(d,1);b.isRefrenceEvent=!1}elementData.current.removeEventListener(b.type,b.listener);a.wrappers.forEach(function(a){a=a.elementData;var c=a.listeners.indexOf(b);-1!==c&&(a.current.removeEventListener(b.type,b.listener),a.listeners.splice(c,1))});return!1}return!0})}})};k.show=function(a){return function(){A(a)}};k.hide=function(a){return function(){D(a)}};k.toggle=function(a){return function(c){A(a,c)}};u.show=function(a){return function(){a.hideState=!1;a.wrappers.forEach(function(a){A(a.elementData)})}};
u.hide=function(a){return function(){a.hideState=!0;a.wrappers.forEach(function(a){D(a.elementData)})}};u.toggle=function(a){return function(c){a.hideState=!a.hideState&&!0!==c||!1===c?!0:!1;a.wrappers.forEach(function(b){a.hideState?D(b.elementData):A(b.elementData)})}};var Q=function(){return new Proxy(function(a){if(a){if("string"===typeof a){var c=Array.from(p.querySelectorAll(a));return aa(c,a)}if("object"===typeof a)return x(a)}},{get:function(a,c){var b=!1;"$"===c.charAt(0)&&(b=!0,c=c.substr(1));
if(n[c])return n[c](b,"get");if(P[c])return P[c]},set:function(a,c,b){a=!1;"$"===c.charAt(0)&&(a=!0,c=c.substr(1));if(n[c])return n[c](a,"set",b)},deleteProperty:function(a,c){var b=!1;"$"===c.charAt(0)&&(b=!0,c=c.substr(1));if(n[c])return n[c](b,"delete",value)}})}();m.AQuery=Q;m.$||(m.$=m.AQuery)})(window);
