/*
 Aquery: The world's best DOM wrapper

 Author: Andrews54757
 License: MIT (https://github.com/ThreeLetters/AQuery/blob/master/LICENSE)
 Source: https://github.com/ThreeLetters/AQuery
 Build: v0.0.1
 Built on: 01/12/2017
*/

(function(n){function J(b){return"object"===typeof HTMLElement?b instanceof HTMLElement:b&&"object"===typeof b&&null!==b&&1===b.nodeType&&"string"===typeof b.nodeName}function v(b,c,a){if("object"===typeof c){if(Array.isArray(c))return c.map(function(c){return E(b,c)});a={};for(var d in c)a[d]=K(b,d,c[d]);return a}if("string"===typeof c)return void 0!==a?K(b,c,a):E(b,c)}function z(b){return b.split("-").map(function(b,a){return 0!==a?b.charAt(0).toUpperCase()+b.slice(1):b}).join("")}function L(b){var c=
[b.selector," {"],a;for(a in b.style)c.push(a,":",b.style[a],";");c.push("}");b.element.innerHTML="<br><style>"+c.join("")+"</style>"}function E(b,c){c=z(c);return b.style[c]?b.style[c]:n.getComputedStyle(b).getPropertyValue(V(c))}function V(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})}function K(b,c,a){c=z(c);var d=parseFloat(a),e=d,f=E(b,c),g=parseFloat(f);if("string"===typeof a&&2<a.length&&"="===a.charAt(1)){var h=a.charAt(0),l=!0;d=parseFloat(a.substr(2));switch(h){case "+":e=
g+d;break;case "-":e=g-d;break;case "*":e=g*d;break;case "/":e=g/d;break;case "^":e=Math.pow(g,d);break;default:l=!1}l&&(a=a.substr(2))}(a=a.substr(d.toString().length))||(a=f.substr(g.toString().length));return b.style[c]=e+a}function M(b,c,a){if(!r[b.selector]){var d=p.createElement("div");d.innerHTML="<br><style>"+b.selector+" {}</style>";B.appendChild(d);r[b.selector]={element:d,style:{},selector:b.selector}}b=r[b.selector];c=z(c);var e=parseFloat(a);d=e;var f=b.style[c],g=parseFloat(f);if("string"===
typeof a&&2<a.length&&"="===a.charAt(1)){var h=a.charAt(0),l=!0;e=parseFloat(a.substr(2));switch(h){case "+":d=g+e;break;case "-":d=g-e;break;case "*":d=g*e;break;case "/":d=g/e;break;case "^":d=Math.pow(g,e);break;default:l=!1}l&&(a=a.substr(2))}(a=a.substr(e.toString().length))||(a=f.substr(g.toString().length));b.style[c]=d+a;L(b);return b.style[c]}function x(b,c,a,d){if(b.global)return!0}function W(b){b.global&&0===m.active++&&x(b,null,"ajaxStart")}function X(b,c){var a=c.context;if(!1===c.beforeSend.call(a,
b,c)||!1===x(c,a,"ajaxBeforeSend",[b,c]))return!1;x(c,a,"ajaxSend",[b,c])}function N(b,c,a){var d=a.context;a.success.call(d,b,"success",c);x(a,d,"ajaxSuccess",[c,a,b]);C("success",c,a)}function F(b,c,a,d){var e=d.context;d.error.call(e,a,c,b);x(d,e,"ajaxError",[a,d,b]);C(c,a,d)}function C(b,c,a){var d=a.context;a.complete.call(d,c,b);x(a,d,"ajaxComplete",[c,a]);a.global&&!--m.active&&x(a,null,"ajaxStop")}function y(){}function Y(b){return b&&("text/html"==b?"html":"application/json"==b?"json":Z.test(b)?
"script":aa.test(b)&&"xml")||"text"}function O(b){"object"===type(b.data)&&(b.data=ba(b.data));!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=(b.url+"&"+b.data).replace(/[&?]{1,2}/,"?"))}function P(b,c,a,d){var e="array"===type(c),f;for(f in c){var g=c[f];d&&(f=a?d:d+"["+(e?"":f)+"]");!d&&e?b.add(g.name,g.value):(a?"array"===type(g):"object"===type(g))?P(b,g,a,f):b.add(f,g)}}function ba(b,c){var a=[];a.add=function(b,a){this.push(Q(b)+"="+Q(a))};P(a,b,c);return a.join("&").replace("%20","+")}
function R(b){Array.prototype.slice.call(arguments,1).forEach(function(c){for(w in c)void 0!==c[w]&&(b[w]=c[w])});return b}function ca(b){return function(c,a,d){if("delete"===d)c.listeners=c.listeners.filter(function(a){return a.type===b?(c.current.removeEventListener(a.type,a.listener),!1):!0});else return new Proxy(function(a,d){a?(a._listenerData=a._listenerData||{type:b,listener:a,options:d},-1===c.listeners.indexOf(a._listenerData)&&(c.current.addEventListener(b,a,d),c.listeners.push(a._listenerData))):
c.listeners.forEach(function(a){a.type===b&&a.listener.apply(c.current,[])})},{get:function(a,d){var e=c.listeners.filter(function(a){return a.type===b});if("length"===d)return e.length;if("number"===typeof d)return e[d].listener},deleteProperty:function(a,d){var e=c.listeners.filter(function(a){return a.type===b});if("number"===typeof d&&(e=e[d])){var f=c.listeners.indexOf(e);c.listeners.splice(f,1);c.current.removeEventListener(b,e.listener)}}})}}function da(b){return function(c,a,d){return"delete"===
d?(c.listeners=c.listeners.filter(function(a){return a.type===b?(c.wrappers.forEach(function(b){b=b.elementData;var a=b.listeners.indexOf(listener);-1!==a&&(b.listeners.splice(a,1),b.current.removeEventListener(listener.type,listener.listener))}),!1):!0}),!0):new Proxy(function(e,f){if(e){var g=e._listenerData=e._listenerData||{selector:c.selector,type:b,listener:e,options:f};-1===c.listeners.indexOf(g)&&c.listeners.push(g);c.nodes.forEach(function(b,a){var l=c.wrappers[a].elementData;-1===l.listeners.indexOf(g)&&
(b.addEventListener(d,e,f),l.listeners.push(g))});a&&!g.isRefrenceEvent&&(t.push(g),g.isRefrenceEvent=!0)}else c.listeners.forEach(function(a){a.type===b&&c.wrappers.forEach(function(b){-1!==b.elementData.listeners.indexOf(a)&&a.listener.apply(b.elementData.current,[])})})},{get:function(a,d){var e=c.listeners.filter(function(a){return a.type===b});if("length"===d)return e.listeners.length;if("number"===typeof d)return e.listeners[d].listener},deleteProperty:function(a,d){var e=c.listeners.filter(function(a){return a.type===
b});if("number"===typeof d){var f=e[d];f&&(e=c.listeners.indexOf(f),c.listeners.splice(e,1),f.isRefrenceEvent&&(e=t.indexOf(f),t.splice(e,1),f.isRefrenceEvent=!1),c.wrappers.forEach(function(b){b=b.elementData;var a=b.listeners.indexOf(f);-1!==a&&(b.current.removeEventListener(f.type,f.listener),b.listeners.splice(a,1))}))}}})}}function D(b){"none"===b.current.style.display&&(b.current.style.display=b.defaultDisplay||"")}function G(b){"none"!==b.current.style.display&&(b.defaultDisplay=b.current.style.display,
b.current.style.display="none")}function S(b,c,a){var d={},e={},f={bindings:d,parent:b,current:c,name:a,listeners:[]},g="object"===typeof c&&J(c);b=new Proxy(c,{get:function(b,a){if("elementData"===a)return f;if("$"===a.charAt(0)){a=a.substr(1);if(g&&k[a])return k[a](f,!0,"get",void 0,a);d[a]||(d[a]={isRefrence:!0,owner:c,attached:[],name:a,update:function(b){var a=this;this.owner[this.name]=b;this.attached.forEach(function(c){c.current[a.name]=b})}});return d[a]}if(g&&k[a])return k[a](f,!1,"get",
void 0,a);if(c[a])return"object"===typeof c[a]?(e[a]&&e[a].elementData.current===c[a]||(e[a]=J(c[a])?A(c[a]):S(c,c[a],a)),e[a]):c[a]},set:function(b,a,e){"$"===a.charAt(0)&&(a=a.substr(1));if(g&&k[a])k[a](f,!0,"set",e,a);else e&&e.isRefrence?d[a]!==e&&(d[a]&&(b=d[a].attached.indexOf(f),d[a].attached[b]=d[a].attached[d[a].attached.length-1],d[a].attached[b].pop()),e.attached.push(f),c[a]=e.owner[e.name],d[a]=e):d[a]?d[a].update(e):c[a]=e},has:function(b,a){},deleteProperty:function(b,a){if("$"===a.charAt(0))if(a=
a.substr(1),g&&k[a])k[a](f,!0,"delete",void 0,a);else{if(d[a]){if(d[a].owner===c)d[a].attached.forEach(function(b){b.bindings[a]=null}),d[a].attached=null;else{var e=d[a].attached.indexOf(f);d[a].attached[e]=d[a].attached[d[a].attached.length-1];d[a].attached[e].pop()}d[a]=null}}else if(g&&k[a])k[a](f,!1,"delete",void 0,a)}});return f.proxy=b}function A(b){b.id||(b.id="aquery_id_"+ha++);H[b.id]||(H[b.id]=S(null,b,null));return H[b.id]}function ia(b,c){var a={nodes:b,wrappers:[],selector:c,selectorSplit:c.split(/[> ]/),
listeners:[]};b.forEach(function(b,c){a.wrappers[c]=A(b)});return new Proxy(a,{get:function(c,e){if("length"===e)return b.length;var d=!1;"$"===e.charAt(0)&&(e=e.substr(1),d=!0);if("number"===typeof e&&a.nodes[e])return d?a.nodes[e]:a.wrappers[e];if(q[e])return q[e](a,d,"get",void 0,e);if(1===b.length)return a.nodes[0][(d?"$":"")+e]},set:function(b,c,f){b=!1;"$"===c.charAt(0)&&(c=c.substr(1),b=!0);if(q[c])return q[c](a,b,"set",f,c)},deleteProperty:function(b,c){var d=!1;"$"===c.charAt(0)&&(c=c.substr(1),
d=!0);if(q[c])return q[c](a,d,"delete",void 0,c)}})}var k={},q={},u={},T={},H={},t=[],ha=0,B={nodes:[],appendChild:function(b){this.nodes.push(b)},removeChild:function(b){b=this.nodes.indexOf(b);-1!==b&&this.node.splice(b,1)}},r={};n.addEventListener("load",function(){var b=p.head||p.getElementsByTagName("head")[0];B.nodes.forEach(function(c){b.appendChild(c)});B=b});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||
Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=b.length;0<=--c&&b.item(c)!==this;);return-1<c});"undefined"===typeof Array.isArray&&(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)});k.css=function(b){return function(c,a){return v(b.proxy,c,a)}};q.css=function(b,c,a){if("delete"===a){if(c)return r[b.selector]?(B.removeChild(r[b.selector].element),r[b.selector]=
null,!0):!1}else if("get"===a)return c?new Proxy(function(a,c){if("object"===typeof a){if(Array.isArray(a))return r[b.selector]?a.map(function(a){return r[b.selector][z(a)]}):!1;var d={},e;for(e in a)d[e]=M(b,e,a[e]);return d}if("string"===typeof a)return void 0!==c?M(element,a,c):r[b.selector][z(e)]},{deleteProperty:function(a,c){if(!r[b.selector])return!1;delete r[b.selector].style[c];L(r[b.selector]);return!0}}):function(a,c){return b.wrappers.map(function(b){return v(b,a,c)})}};u.css=function(){return function(b,
c,a){return a&&"object"===typeof a?a.map(function(a){return v(a,b,c)}):v(a||p.body,b,c)}};var ja=function(b,c,a,d){var e=void 0,f=!1;if(a){e=c;var g=a;f=d}else g=c,f=a;try{var h=n.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");h.open(e?"POST":"GET",b+(f?"?"+Date.now():""));h.onreadystatechange=function(){4==h.readyState&&(200===h.status?g(void 0,h,h.responseText):g(!0,h,!1))};if(e){h.setRequestHeader("Content-type","application/x-www-form-urlencoded");b=[];for(var l in e)b.push(encodeURIComponent(l)+
"="+encodeURIComponent(e[l]));e=b.join("&")}h.send(e)}catch(ea){g(ea)}},ka=0,p=n.document,w,I,Z=/^(?:text|application)\/javascript/i,aa=/^(?:text|application)\/xml/i,la=/^\s*$/,m=function(b,c){if(c)return ja.apply(null,arguments);var a=R({},b||{});for(w in m.settings)void 0===a[w]&&(a[w]=m.settings[w]);W(a);a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=n.location.host);var d=a.dataType,e=/=\?/.test(a.url);if("jsonp"==d||e)return e||(a.url=(a.url+"&callback=?").replace(/[&?]{1,2}/,
"?")),m.JSONP(a);a.url||(a.url=n.location.toString());O(a);e=a.accepts[d];var f={},g=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:n.location.protocol,h=m.settings.xhr(),l;a.crossDomain||(f["X-Requested-With"]="XMLHttpRequest");e&&(f.Accept=e,-1<e.indexOf(",")&&(e=e.split(",",2)[0]),h.overrideMimeType&&h.overrideMimeType(e));if(a.contentType||a.data&&"GET"!=a.type.toUpperCase())f["Content-Type"]=a.contentType||"application/x-www-form-urlencoded";a.headers=R(f,a.headers||{});h.onreadystatechange=function(){if(4==
h.readyState){clearTimeout(l);var b=!1;if(200<=h.status&&300>h.status||304==h.status||0==h.status&&"file:"==g){d=d||Y(h.getResponseHeader("content-type"));var c=h.responseText;try{"script"==d?(0,eval)(c):"xml"==d?c=h.responseXML:"json"==d&&(c=la.test(c)?null:JSON.parse(c))}catch(fa){b=fa}b?F(b,"parsererror",h,a):N(c,h,a)}else F(null,"error",h,a)}};h.open(a.type,a.url,"async"in a?a.async:!0);for(I in a.headers)h.setRequestHeader(I,a.headers[I]);if(!1===X(h,a))return h.abort(),!1;0<a.timeout&&(l=setTimeout(function(){h.onreadystatechange=
y;h.abort();F(null,"timeout",h,a)},a.timeout));h.send(a.data?a.data:null);return h};m.active=0;m.JSONP=function(b){if(!("type"in b))return m(b);var c="jsonp"+ ++ka,a=p.createElement("script"),d={abort:function(){c in n&&(n[c]=y);C("abort",d,b)}},e,f=p.getElementsByTagName("head")[0]||p.documentElement;b.error&&(a.onerror=function(){d.abort();b.error()});n[c]=function(a){clearTimeout(e);delete n[c];N(a,d,b)};O(b);a.src=b.url.replace(/=\?/,"="+c);f.insertBefore(a,f.firstChild);0<b.timeout&&(e=setTimeout(function(){d.abort();
C("timeout",d,b)},b.timeout));return d};m.settings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:!0,xhr:function(){return new n.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0};m.get=function(b,c){return m({url:b,success:c})};m.post=function(b,c,a,d){"function"===type(c)&&(d=d||a,a=c,c=null);return m({type:"POST",url:b,data:c,success:a,
dataType:d})};m.getJSON=function(b,c){return m({url:b,success:c,dataType:"json"})};var Q=encodeURIComponent;u.ajax=function(){return m};k.append=k.appendChild=function(b,c){return function(a){a.elementData||(a=A(a));var c=a.elementData;t.forEach(function(a){c.current.matches(a.selector)&&-1===c.listeners.indexOf(a)&&(c.current.addEventListener(a.type,a.listener,a.options),c.listeners.push(a))});b.current.appendChild(c.current)}};u.append=u.appendChild=function(){return function(b){b.elementData||
(b=A(b));var c=b.elementData;t.forEach(function(a){c.current.matches(a.selector)&&-1===c.listeners.indexOf(a)&&(c.current.addEventListener(a.type,a.listener,a.options),c.listeners.push(a))});p.body.appendChild(c.current)}};k.clone=function(b,c){return function(a){var c=b.current.cloneNode(!0),e=U(c);!1!==a&&b.listeners.forEach(function(a){e.elementData.listeners.push(a);e.elementData.current.addEventListener(a.type,a.listener,a.options)});return e}}["width","height"].forEach(function(b,c){["","inner",
"outer","whole"].forEach(function(a,d){var e=b;a&&(e=b.charAt(0).toUpperCase()+b.substr(1));k[a+e]=function(a,e,h,l){e=0;d&&(e+=parseFloat(v(a.proxy,c?"padding-top":"padding-left")),e+=parseFloat(v(a.proxy,c?"padding-bottom":"padding-right")),2<=d&&(e+=parseFloat(v(a.proxy,c?"border-top-width":"border-left-width")),e+=parseFloat(v(a.proxy,c?"border-bottom-width":"border-right-width")),3===d&&(e+=parseFloat(v(a.proxy,c?"margin-top":"margin-left")),e+=parseFloat(v(a.proxy,c?"margin-bottom":"margin-right")))));
l&&d&&(l=parseFloat(l)-e);return parseFloat(v(a.proxy,b,l))+e}})});u.width=function(b,c){if("get"===c)return Math.max(p.scrollHeight,p.offsetHeight,p.clientHeight)};u.height=function(b,c){if("get"===c)return Math.max(p.scrollWidth,p.offsetWidth,p.clientWidth)};"blur focus keydown keyup keypress resize scroll select submit clicl dblclick change error mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup contextmenu".split(" ").forEach(function(b){k[b]=ca(b);q[b]=da(b)});k.on=k.addEventListener=
function(b,c,a){if("delete"===a)b.listeners.forEach(function(a){b.current.removeEventListener(a.type,a.listener)}),b.listeners=[];else return new Proxy(function(a,c,f){c?(c._listenerData=c._listenerData||{type:a,listener:c,options:f},-1===b.listeners.indexOf(c._listenerData)&&(b.current.addEventListener(a,c,f),b.listeners.push(c._listenerData))):b.listeners.forEach(function(c){c.type===a&&c.listener.apply(b.current,[])})},{get:function(a,c){if("length"===c)return b.listeners.length;if("number"===
typeof c)return b.listeners[c].listener;var e=[];b.listeners.forEach(function(a){a.type===c&&e.push(a.listener)});return new Proxy(e,{deleteProperty:function(a,c){if("number"===typeof c){var d=e[c];if(d){d=d._listenerData;e.splice(c,1);var f=b.listeners.indexOf(d);-1!==d&&b.listeners.splice(f,1);b.current.removeEventListener(d.type,d.listener)}}}})},deleteProperty:function(a,c){if("number"===typeof c){var d=b.listeners[c];d&&(b.listeners.splice(c,1),b.current.removeEventListener(d.type,d.listener))}else b.listeners=
b.listeners.filter(function(a){return a.type===c?(b.current.removeEventListener(a.type,a.listener),!1):!0})}})};q.on=q.addEventListener=function(b,c,a){if("delete"===a)b.listeners.forEach(function(a){b.wrappers.forEach(function(b){b=b.elementData;var c=b.listeners.indexOf(a);-1!==c&&(b.listeners.splice(c,1),b.current.removeEventListener(a.type,a.listener))})}),b.listeners=[];else return new Proxy(function(a,e,f){if(e){var d=e._listenerData=e._listenerData||{selector:b.selector,type:a,listener:e,options:f};
-1===b.listeners.indexOf(d)&&b.listeners.push(d);b.nodes.forEach(function(c,g){var h=b.wrappers[g].elementData;-1===h.listeners.indexOf(d)&&(c.addEventListener(a,e,f),h.listeners.push(d))});c&&!d.isRefrenceEvent&&(t.push(d),d.isRefrenceEvent=!0)}else b.listeners.forEach(function(c){c.type===a&&b.wrappers.forEach(function(a){-1!==a.elementData.listeners.indexOf(c)&&c.listener.apply(a.elementData.current,[])})})},{get:function(a,c){if("length"===c)return b.listeners.length;if("number"===typeof c)return b.listeners[c].listener;
var d=[];b.listeners.forEach(function(a){a.type===c&&d.push(a.listener)});return new Proxy(d,{deleteProperty:function(a,c){if("number"===typeof c){var e=d[c];if(e){e=e._listenerData;d.splice(c,1);var f=b.listeners.indexOf(e);-1!==e&&b.listeners.splice(f,1);e.isRefrenceEvent&&(f=t.indexOf(e),t.splice(f,1),e.isRefrenceEvent=!1);b.wrappers.forEach(function(a){a=a.elementData;var b=a.listeners.indexOf(e);-1!==b&&(a.current.removeEventListener(e.type,e.listener),a.listeners.splice(b,1))})}}}})},deleteProperty:function(a,
c){if("number"===typeof c){var d=b.listeners[c];if(d){b.listeners.splice(c,1);if(d.isRefrenceEvent){var e=t.indexOf(d);t.splice(e,1);d.isRefrenceEvent=!1}b.wrappers.forEach(function(a){a=a.elementData;var b=a.listeners.indexOf(d);-1!==b&&(a.current.removeEventListener(d.type,d.listener),a.listeners.splice(b,1))})}}else b.listeners=b.listeners.filter(function(a){if(a.type===c){if(a.isRefrenceEvent){var d=t.indexOf(a);t.splice(d,1);a.isRefrenceEvent=!1}elementData.current.removeEventListener(a.type,
a.listener);b.wrappers.forEach(function(b){b=b.elementData;var c=b.listeners.indexOf(a);-1!==c&&(b.current.removeEventListener(a.type,a.listener),b.listeners.splice(c,1))});return!1}return!0})}})};k.before=function(b){return function(c){var a=b.proxy;return a.parentNode.insertBefore(c,a)}};k.after=function(b){return function(c){var a=b.proxy;return a.parentNode.insertBefore(c,a.nextSibling)}};k.show=function(b){return function(){D(b)}};k.hide=function(b){return function(){G(b)}};k.toggle=function(b){return function(c){D(b,
c)}};q.show=function(b){return function(){b.hideState=!1;b.wrappers.forEach(function(b){D(b.elementData)})}};q.hide=function(b){return function(){b.hideState=!0;b.wrappers.forEach(function(b){G(b.elementData)})}};q.toggle=function(b){return function(c){b.hideState=!b.hideState&&!0!==c||!1===c?!0:!1;b.wrappers.forEach(function(a){b.hideState?G(a.elementData):D(a.elementData)})}};var U=function(){var b=new Proxy(function(c){if(c){if("string"===typeof c){var a=Array.from(p.querySelectorAll(c));return ia(a,
c)}if("object"===typeof c){if(9===c.nodeType)return b;if(1===c.nodeType)return A(c)}}},{get:function(b,a){var c=!1;"$"===a.charAt(0)&&(c=!0,a=a.substr(1));if(u[a])return u[a](c,"get",void 0,a);if(T[a])return T[a]},set:function(b,a,d){b=!1;"$"===a.charAt(0)&&(b=!0,a=a.substr(1));if(u[a])return u[a](b,"set",d,a)},deleteProperty:function(b,a){var c=!1;"$"===a.charAt(0)&&(c=!0,a=a.substr(1));if(u[a])return u[a](c,"delete",void 0,a)}});return b}();n.AQuery=U;n.$||(n.$=n.AQuery)})(window);
